<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹œí™”í˜¸ í™˜ê²½ ëª¨ë‹ˆí„°ë§ ì§€ë„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        .floating-info {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-weight: 600;
            color: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        .container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
        }

        .sidebar {
            width: 380px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            overflow-y: auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            max-height: 100vh;
        }

        .map-container {
            flex: 1;
            position: relative;
            background: #e8f4fd;
            overflow: hidden;
        }

        .map {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(45deg, #89CFF0 0%, #B8E6B8 50%, #87CEEB 100%);
        }

        .lake {
            position: absolute;
            top: 35%;
            left: 40%;
            width: 200px;
            height: 120px;
            background: radial-gradient(ellipse at center, #4A90E2 0%, #2E5BBA 100%);
            border-radius: 60% 40% 50% 70%;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.2);
            transform: rotate(-15deg);
        }

        .city-area {
            position: absolute;
            background: rgba(100, 100, 100, 0.3);
            border: 2px solid rgba(80, 80, 80, 0.5);
            border-radius: 10px;
        }

        .ansan {
            top: 20%;
            left: 25%;
            width: 120px;
            height: 100px;
            background: rgba(255, 140, 0, 0.2);
            border-color: rgba(255, 140, 0, 0.6);
        }

        .siheung {
            top: 45%;
            left: 20%;
            width: 140px;
            height: 90px;
            background: rgba(0, 150, 255, 0.2);
            border-color: rgba(0, 150, 255, 0.6);
        }

        .hwaseong {
            top: 55%;
            left: 45%;
            width: 180px;
            height: 120px;
            background: rgba(50, 200, 100, 0.2);
            border-color: rgba(50, 200, 100, 0.6);
        }

        .city-label {
            position: absolute;
            font-weight: bold;
            color: #2c3e50;
            font-size: 0.9em;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
            z-index: 5;
        }

        .seoul-bay {
            position: absolute;
            top: 10%;
            left: 60%;
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #4A90E2 0%, #87CEEB 100%);
            border-radius: 40% 60% 50% 80%;
            opacity: 0.7;
            transform: rotate(20deg);
        }

        .layer-controls {
            margin-bottom: 25px;
        }

        .layer-controls h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }

        .layer-item {
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .layer-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .layer-item.active {
            border-left-color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }

        .layer-toggle {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .toggle-switch {
            width: 40px;
            height: 20px;
            background: #ddd;
            border-radius: 20px;
            position: relative;
            margin-right: 10px;
            transition: background 0.3s ease;
        }

        .toggle-switch.active {
            background: #4CAF50;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s ease;
        }

        .toggle-switch.active::after {
            transform: translateX(20px);
        }

        .layer-title {
            font-weight: 600;
            color: #2c3e50;
        }

        .layer-desc {
            font-size: 0.85em;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .data-point {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            border: 3px solid white;
        }

        .data-point:hover {
            transform: scale(1.3);
            z-index: 20;
        }

        .water-quality {
            animation: pulse 2s infinite;
        }

        .good { background: #27ae60; }
        .warning { background: #f39c12; }
        .danger { background: #e74c3c; }

        .waste-point {
            background: #8e44ad;
            border-radius: 30% 70% 70% 30%;
        }

        .green-point {
            background: #2ecc71;
            border-radius: 20% 80% 60% 40%;
        }

        .activity-point {
            background: #3498db;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            border-radius: 0;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .popup {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            min-width: 200px;
            z-index: 100;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .popup h3 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .popup p {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .time-slider {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
        }

        .slider {
            width: 100%;
            height: 5px;
            background: #ddd;
            border-radius: 5px;
            outline: none;
        }

        .legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .legend h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.85em;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .stats-panel {
            margin-top: 25px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            color: white;
        }

        .stats-panel h3 {
            margin-bottom: 10px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .briefing-panel {
            margin-top: 25px;
            padding: 15px;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-radius: 10px;
            color: white;
            max-height: 400px;
            overflow-y: auto;
        }

        .briefing-panel h3 {
            margin-bottom: 15px;
            color: #ecf0f1;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .issue-item {
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(52, 73, 93, 0.3);
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }

        .issue-item.warning {
            border-left-color: #f39c12;
        }

        .issue-item.info {
            border-left-color: #3498db;
        }

        .issue-item.success {
            border-left-color: #27ae60;
        }

        .issue-title {
            font-weight: 600;
            font-size: 0.95em;
            margin-bottom: 5px;
            color: #ecf0f1;
        }

        .issue-desc {
            font-size: 0.85em;
            color: #bdc3c7;
            line-height: 1.4;
        }

        .issue-status {
            font-size: 0.8em;
            margin-top: 5px;
            padding: 3px 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: inline-block;
        }

        .tab-buttons {
            display: flex;
            margin-bottom: 15px;
            background: rgba(52, 73, 93, 0.2);
            border-radius: 8px;
            padding: 3px;
        }

        .tab-button {
            flex: 1;
            padding: 8px 12px;
            background: transparent;
            border: none;
            color: #bdc3c7;
            cursor: pointer;
            border-radius: 6px;
            font-size: 0.85em;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: #3498db;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="layer-controls">
                <h2>ğŸ—ºï¸ ì‹œí™”í˜¸ í™˜ê²½ ì§€ë„</h2>
                
                <div class="layer-item active" data-layer="water">
                    <div class="layer-toggle">
                        <div class="toggle-switch active"></div>
                        <div>
                            <div class="layer-title">ğŸ’§ ìˆ˜ì§ˆ/ì¡°ë¥˜ ëª¨ë‹ˆí„°ë§</div>
                            <div class="layer-desc">pH, íƒë„, ì¡°ë¥˜ ë°œìƒëŸ‰ ì‹¤ì‹œê°„ ë°ì´í„°</div>
                        </div>
                    </div>
                </div>

                <div class="layer-item" data-layer="waste">
                    <div class="layer-toggle">
                        <div class="toggle-switch"></div>
                        <div>
                            <div class="layer-title">ğŸ—‘ï¸ ì“°ë ˆê¸°/íê¸°ë¬¼ í•«ìŠ¤íŒŸ</div>
                            <div class="layer-desc">í”Œë¼ìŠ¤í‹±, ìƒí™œì“°ë ˆê¸°, ì‚°ì—…íê¸°ë¬¼</div>
                        </div>
                    </div>
                </div>

                <div class="layer-item" data-layer="green">
                    <div class="layer-toggle">
                        <div class="toggle-switch"></div>
                        <div>
                            <div class="layer-title">ğŸŒ± ë…¹ì§€/ìŠµì§€ í˜„í™©</div>
                            <div class="layer-desc">ìœ„ì„±ì‚¬ì§„ ê¸°ë°˜ ìƒíƒœ ë°ì´í„°</div>
                        </div>
                    </div>
                </div>

                <div class="layer-item" data-layer="activity">
                    <div class="layer-toggle">
                        <div class="toggle-switch"></div>
                        <div>
                            <div class="layer-title">ğŸƒâ€â™€ï¸ ì°¸ì—¬/ìº í˜ì¸</div>
                            <div class="layer-desc">ì²­ì†Œí™œë™, í”Œë¡œê¹…, ì°¸ì—¬ê¸°ë¡</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="time-slider">
                <h4>â±ï¸ ì‹œê°„ì¶• ì¡°ì ˆ</h4>
                <input type="range" class="slider" min="2020" max="2030" value="2024" id="timeSlider">
                <div style="display: flex; justify-content: space-between; font-size: 0.8em; margin-top: 5px;">
                    <span>2020</span>
                    <span id="currentYear">2024</span>
                    <span>2030</span>
                </div>
            </div>

            <div class="briefing-panel">
                <h3>ğŸ“‹ ì‹œí™”í˜¸ í™˜ê²½ ë¸Œë¦¬í•‘</h3>
                
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="issues">ì£¼ìš” ì´ìŠˆ</button>
                    <button class="tab-button" data-tab="history">ì—­ì‚¬</button>
                    <button class="tab-button" data-tab="solutions">í•´ê²°ë°©ì•ˆ</button>
                </div>

                <div class="tab-content active" id="issues">
                    <div class="issue-item">
                        <div class="issue-title">ğŸš¨ ìˆ˜ì§ˆ ì˜¤ì—¼ ì‹¬ê°</div>
                        <div class="issue-desc">ì‚°ì—…íìˆ˜ì™€ ìƒí™œí•˜ìˆ˜ ìœ ì…ìœ¼ë¡œ ì¸í•œ ë¶€ì˜ì–‘í™” ì§„í–‰. ì¡°ë¥˜ ëŒ€ë°œìƒìœ¼ë¡œ ìƒíƒœê³„ êµë€ ì§€ì†.</div>
                        <div class="issue-status">ì§„í–‰ì¤‘ - ê°œì„  í•„ìš”</div>
                    </div>

                    <div class="issue-item warning">
                        <div class="issue-title">âš ï¸ í”Œë¼ìŠ¤í‹± ì“°ë ˆê¸° ì¦ê°€</div>
                        <div class="issue-desc">ì—°ì•ˆ ì§€ì—­ í”Œë¼ìŠ¤í‹± íê¸°ë¬¼ ëˆ„ì . í•´ì–‘ ìƒë¬¼ ì„œì‹ì§€ íŒŒê´´ ë° ë¯¸ì„¸í”Œë¼ìŠ¤í‹± ê²€ì¶œ.</div>
                        <div class="issue-status">ëª¨ë‹ˆí„°ë§ ì¤‘</div>
                    </div>

                    <div class="issue-item success">
                        <div class="issue-title">âœ… ì‹œë¯¼ ì°¸ì—¬ í™œë°œ</div>
                        <div class="issue-desc">í”Œë¡œê¹…, ì •í™”í™œë™ ë“± ì‹œë¯¼ ì°¸ì—¬ í”„ë¡œê·¸ë¨ ìš´ì˜. ì›”í‰ê·  1,200ëª… ì´ìƒ ì°¸ì—¬.</div>
                        <div class="issue-status">ì„±ê³¼ ìš°ìˆ˜</div>
                    </div>

                    <div class="issue-item info">
                        <div class="issue-title">ğŸ’¡ ìŠ¤ë§ˆíŠ¸ ëª¨ë‹ˆí„°ë§ ë„ì…</div>
                        <div class="issue-desc">IoT ì„¼ì„œ ê¸°ë°˜ ì‹¤ì‹œê°„ ìˆ˜ì§ˆ ì¸¡ì •. AI ë¶„ì„ì„ í†µí•œ ì˜ˆì¸¡ ì‹œìŠ¤í…œ êµ¬ì¶• ì¤‘.</div>
                        <div class="issue-status">êµ¬ì¶• ì§„í–‰ì¤‘</div>
                    </div>
                </div>

                <div class="tab-content" id="history">
                    <div class="issue-item info">
                        <div class="issue-title">ğŸ—ï¸ 1987-1994ë…„ ì‹œí™”í˜¸ ê±´ì„¤</div>
                        <div class="issue-desc">ê°„ì²™ì‚¬ì—…ìœ¼ë¡œ ì‹œí™”í˜¸ ì¡°ì„±. ë†ì—…ìš©ìˆ˜ì™€ ê³µì—…ìš©ìˆ˜ ê³µê¸‰ ëª©ì ìœ¼ë¡œ ì‹œì‘.</div>
                    </div>

                    <div class="issue-item">
                        <div class="issue-title">ğŸ’€ 1990ë…„ëŒ€ ìˆ˜ì§ˆ ì•…í™”</div>
                        <div class="issue-desc">ì‚°ì—…íìˆ˜ ìœ ì…ìœ¼ë¡œ ê·¹ì‹¬í•œ ìˆ˜ì§ˆ ì˜¤ì—¼. 'ì£½ìŒì˜ í˜¸ìˆ˜'ë¡œ ë¶ˆë¦¬ë©° ì‚¬íšŒ ë¬¸ì œí™”.</div>
                    </div>

                    <div class="issue-item warning">
                        <div class="issue-title">ğŸ”„ 2000ë…„ëŒ€ í•´ìˆ˜ ìœ í†µ</div>
                        <div class="issue-desc">ë‹´ìˆ˜í˜¸ì—ì„œ í•´ìˆ˜í˜¸ë¡œ ì „í™˜. ê°¯ë²Œ ë³µì›ê³¼ ìˆ˜ì§ˆ ê°œì„  ì‚¬ì—… ì‹œì‘.</div>
                    </div>

                    <div class="issue-item success">
                        <div class="issue-title">ğŸŒ± 2010ë…„ëŒ€ ìƒíƒœ ë³µì›</div>
                        <div class="issue-desc">ìŠµì§€ ì¡°ì„±, ê°ˆëŒ€ë°­ ë³µì› ë“± ìƒíƒœê³„ íšŒë³µ ë…¸ë ¥. ì ì§„ì  ìˆ˜ì§ˆ ê°œì„  ì„±ê³¼.</div>
                    </div>
                </div>

                <div class="tab-content" id="solutions">
                    <div class="issue-item success">
                        <div class="issue-title">ğŸ­ ì˜¤ì—¼ì› ì°¨ë‹¨</div>
                        <div class="issue-desc">ì‚°ì—…ë‹¨ì§€ íìˆ˜ì²˜ë¦¬ì‹œì„¤ ê³ ë„í™”, ìƒí™œí•˜ìˆ˜ ì²˜ë¦¬ìœ¨ 99% ë‹¬ì„± ëª©í‘œ.</div>
                    </div>

                    <div class="issue-item info">
                        <div class="issue-title">ğŸŒ¿ ìì—° ì •í™” ì‹œì„¤</div>
                        <div class="issue-desc">ì¸ê³µìŠµì§€ í™•ëŒ€, ê°ˆëŒ€ë°­ ì¡°ì„±ìœ¼ë¡œ ìì—° ì •í™” ëŠ¥ë ¥ í–¥ìƒ. ìƒë¬¼ì„œì‹ì§€ ë³µì›.</div>
                    </div>

                    <div class="issue-item warning">
                        <div class="issue-title">ğŸ‘¥ ì‹œë¯¼ ì°¸ì—¬ í™•ëŒ€</div>
                        <div class="issue-desc">í™˜ê²½êµìœ¡, ì •í™”í™œë™, ëª¨ë‹ˆí„°ë§ ì°¸ì—¬ í”„ë¡œê·¸ë¨. ë¦¬ì›Œë“œ ì‹œìŠ¤í…œ ë„ì… ê²€í† .</div>
                    </div>

                    <div class="issue-item">
                        <div class="issue-title">ğŸ”¬ ê¸°ìˆ ì  í•´ê²°ì±…</div>
                        <div class="issue-desc">AI ê¸°ë°˜ ìˆ˜ì§ˆ ì˜ˆì¸¡, ë“œë¡  ëª¨ë‹ˆí„°ë§, ìŠ¤ë§ˆíŠ¸ ì“°ë ˆê¸° ìˆ˜ê±° ì‹œìŠ¤í…œ ë„ì… ê³„íš.</div>
                    </div>
                </div>
            </div>

            <div class="stats-panel">
                <h3>ğŸ“Š ì‹¤ì‹œê°„ í†µê³„</h3>
                <div class="stat-item">
                    <span>ìˆ˜ì§ˆ ë“±ê¸‰</span>
                    <span id="waterGrade">ë³´í†µ</span>
                </div>
                <div class="stat-item">
                    <span>íê¸°ë¬¼ ì‹ ê³ </span>
                    <span id="wasteReports">23ê±´</span>
                </div>
                <div class="stat-item">
                    <span>ì°¸ì—¬ì ìˆ˜</span>
                    <span id="participants">1,247ëª…</span>
                </div>
                <div class="stat-item">
                    <span>ì²­ì†Œ ì™„ë£Œ</span>
                    <span id="cleanedAreas">89%</span>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div class="floating-info">
                ğŸŒŠ ì‹œí™”í˜¸ í†µí•© í™˜ê²½ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
            </div>

            <div class="map">
                <!-- ê²½ê¸°ë§Œ/ì„œí•´ í‘œí˜„ -->
                <div class="seoul-bay"></div>
                
                <!-- ë„ì‹œ êµ¬ì—­ë“¤ -->
                <div class="city-area ansan"></div>
                <div class="city-area siheung"></div>
                <div class="city-area hwaseong"></div>
                
                <!-- ì‹œí™”í˜¸ -->
                <div class="lake"></div>
                
                <!-- ë„ì‹œ ë¼ë²¨ë“¤ -->
                <div class="city-label" style="top: 15%; left: 27%;">ì•ˆì‚°ì‹œ</div>
                <div class="city-label" style="top: 42%; left: 22%;">ì‹œí¥ì‹œ</div>
                <div class="city-label" style="top: 52%; left: 47%;">í™”ì„±ì‹œ</div>
                <div class="city-label" style="top: 38%; left: 44%;">ì‹œí™”í˜¸</div>
                <div class="city-label" style="top: 8%; left: 62%;">ê²½ê¸°ë§Œ</div>
                
                <!-- ìˆ˜ì§ˆ ë°ì´í„° í¬ì¸íŠ¸ -->
                <div class="data-point water-quality good" style="top: 38%; left: 42%;" data-info="ì§€ì  A|pH: 7.2|íƒë„: 2.1 NTU|ì¡°ë¥˜: ë‚®ìŒ"></div>
                <div class="data-point water-quality warning" style="top: 42%; left: 48%;" data-info="ì§€ì  B|pH: 8.1|íƒë„: 4.5 NTU|ì¡°ë¥˜: ë³´í†µ"></div>
                <div class="data-point water-quality danger" style="top: 40%; left: 52%;" data-info="ì§€ì  C|pH: 9.2|íƒë„: 8.3 NTU|ì¡°ë¥˜: ë†’ìŒ"></div>
                <div class="data-point water-quality good" style="top: 45%; left: 45%;" data-info="ì§€ì  D|pH: 7.8|íƒë„: 1.9 NTU|ì¡°ë¥˜: ë‚®ìŒ"></div>

                <!-- ì“°ë ˆê¸° í•«ìŠ¤íŒŸ -->
                <div class="data-point waste-point" style="top: 35%; left: 40%; display: none;" data-info="íê¸°ë¬¼ ì‹ ê³ |í”Œë¼ìŠ¤í‹± ì“°ë ˆê¸° ì§‘ì¤‘|ì‹ ê³ ì: ê¹€í™˜ê²½|ë‚ ì§œ: 2024.09.15"></div>
                <div class="data-point waste-point" style="top: 50%; left: 50%; display: none;" data-info="ì‚°ì—…íê¸°ë¬¼|í™”í•™ë¬¼ì§ˆ ì˜ì‹¬|ê¸´ê¸‰ ì¡°ì¹˜ í•„ìš”|ì‹ ê³ ì: ë°•ì‹œë¯¼"></div>
                <div class="data-point waste-point" style="top: 48%; left: 25%; display: none;" data-info="ìƒí™œì“°ë ˆê¸°|ìŒì‹ë¬¼ ì“°ë ˆê¸° ë‹¤ëŸ‰|ì•…ì·¨ ë°œìƒ|ì²˜ë¦¬ ì™„ë£Œ: 80%"></div>

                <!-- ë…¹ì§€/ìŠµì§€ í¬ì¸íŠ¸ -->
                <div class="data-point green-point" style="top: 60%; left: 48%; display: none;" data-info="ê°ˆëŒ€ìŠµì§€|ë©´ì : 2.3ha|ìƒë¬¼ë‹¤ì–‘ì„±: ë†’ìŒ|ë³´ì¡´ìƒíƒœ: ì–‘í˜¸"></div>
                <div class="data-point green-point" style="top: 25%; left: 30%; display: none;" data-info="ì¡°ì„±ëœ ê³µì›|ë©´ì : 1.8ha|ì‹œë¯¼ ì ‘ê·¼ì„±: ìš°ìˆ˜|ê´€ë¦¬ìƒíƒœ: ì¢‹ìŒ"></div>
                <div class="data-point green-point" style="top: 65%; left: 55%; display: none;" data-info="ìì—° ì„œì‹ì§€|í¬ê·€ ì¡°ë¥˜ ì„œì‹|ë³´í˜¸êµ¬ì—­ ì§€ì •|ëª¨ë‹ˆí„°ë§ ì¤‘"></div>

                <!-- ì°¸ì—¬/ìº í˜ì¸ í¬ì¸íŠ¸ -->
                <div class="data-point activity-point" style="top: 55%; left: 42%; display: none;" data-info="í”Œë¡œê¹… ì™„ë£Œ|ì°¸ì—¬ì: 25ëª…|ìˆ˜ê±°ëŸ‰: 45kg|í¬ì¸íŠ¸: 250P"></div>
                <div class="data-point activity-point" style="top: 32%; left: 45%; display: none;" data-info="ì •í™” ìº í˜ì¸|ì˜ˆì •ì¼: 09.25|ëª©í‘œ ì¸ì›: 50ëª…|í˜„ì¬ ì‹ ì²­: 32ëª…"></div>
                <div class="data-point activity-point" style="top: 22%; left: 28%; display: none;" data-info="í™˜ê²½ êµìœ¡|í•™ìƒ ì²´í—˜í•™ìŠµ|ì°¸ì—¬ í•™êµ: 3ê³³|ë§Œì¡±ë„: 9.2/10"></div>
            </div>

            <div class="legend">
                <h4>ë²”ë¡€</h4>
                <div class="legend-item">
                    <div class="legend-color good"></div>
                    <span>ìˆ˜ì§ˆ ì–‘í˜¸</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color warning"></div>
                    <span>ì£¼ì˜ í•„ìš”</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color danger"></div>
                    <span>ìœ„í—˜ ìƒíƒœ</span>
                </div>
            </div>

            <div class="popup" id="popup">
                <h3 id="popupTitle"></h3>
                <div id="popupContent"></div>
            </div>
        </div>
    </div>

    <script>
        // ë¸Œë¦¬í•‘ íƒ­ ê¸°ëŠ¥
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.dataset.tab;
                
                // ëª¨ë“  íƒ­ ë²„íŠ¼ê³¼ ì½˜í…ì¸  ë¹„í™œì„±í™”
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // í´ë¦­ëœ íƒ­ í™œì„±í™”
                button.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // ë ˆì´ì–´ í† ê¸€ ê¸°ëŠ¥
        document.querySelectorAll('.layer-item').forEach(item => {
            item.addEventListener('click', () => {
                const layer = item.dataset.layer;
                const toggle = item.querySelector('.toggle-switch');
                const isActive = toggle.classList.contains('active');
                
                // í† ê¸€ ìƒíƒœ ë³€ê²½
                if (isActive) {
                    toggle.classList.remove('active');
                    item.classList.remove('active');
                } else {
                    toggle.classList.add('active');
                    item.classList.add('active');
                }
                
                // í•´ë‹¹ ë ˆì´ì–´ì˜ ë°ì´í„° í¬ì¸íŠ¸ í‘œì‹œ/ìˆ¨ê¹€
                const points = getPointsByLayer(layer);
                points.forEach(point => {
                    point.style.display = isActive ? 'none' : 'block';
                });
            });
        });

        function getPointsByLayer(layer) {
            switch(layer) {
                case 'water': return document.querySelectorAll('.water-quality');
                case 'waste': return document.querySelectorAll('.waste-point');
                case 'green': return document.querySelectorAll('.green-point');
                case 'activity': return document.querySelectorAll('.activity-point');
                default: return [];
            }
        }

        // íŒì—… ê¸°ëŠ¥
        document.querySelectorAll('.data-point').forEach(point => {
            point.addEventListener('click', (e) => {
                const popup = document.getElementById('popup');
                const info = point.dataset.info.split('|');
                
                document.getElementById('popupTitle').textContent = info[0];
                document.getElementById('popupContent').innerHTML = 
                    info.slice(1).map(item => `<p>${item}</p>`).join('');
                
                popup.style.display = 'block';
                popup.style.left = e.clientX + 10 + 'px';
                popup.style.top = e.clientY + 10 + 'px';
            });
        });

        // íŒì—… ë‹«ê¸°
        document.addEventListener('click', (e) => {
            if (!e.target.classList.contains('data-point')) {
                document.getElementById('popup').style.display = 'none';
            }
        });

        // ì‹œê°„ ìŠ¬ë¼ì´ë”
        const timeSlider = document.getElementById('timeSlider');
        const currentYear = document.getElementById('currentYear');
        
        timeSlider.addEventListener('input', (e) => {
            currentYear.textContent = e.target.value;
            // ì‹œê°„ì— ë”°ë¥¸ ë°ì´í„° ë³€í™” ì‹œë®¬ë ˆì´ì…˜
            updateStatsForYear(e.target.value);
        });

        function updateStatsForYear(year) {
            const waterGrades = ['ë§¤ìš°ì¢‹ìŒ', 'ì¢‹ìŒ', 'ë³´í†µ', 'ë‚˜ì¨'];
            const grade = waterGrades[Math.floor(Math.random() * waterGrades.length)];
            document.getElementById('waterGrade').textContent = grade;
            
            const wasteCount = Math.floor(Math.random() * 50) + 10;
            document.getElementById('wasteReports').textContent = wasteCount + 'ê±´';
            
            const participants = Math.floor(Math.random() * 2000) + 800;
            document.getElementById('participants').textContent = participants.toLocaleString() + 'ëª…';
            
            const cleaned = Math.floor(Math.random() * 30) + 70;
            document.getElementById('cleanedAreas').textContent = cleaned + '%';
        }

        // ì´ˆê¸° í†µê³„ ì—…ë°ì´íŠ¸
        updateStatsForYear(2024);
        
        // ë°ì´í„° í¬ì¸íŠ¸ ì• ë‹ˆë©”ì´ì…˜
        setInterval(() => {
            document.querySelectorAll('.water-quality').forEach(point => {
                const colors = ['#27ae60', '#f39c12', '#e74c3c'];
                const currentColor = point.style.backgroundColor;
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                // ê°€ë”ì”© ìƒ‰ìƒ ë³€ê²½ìœ¼ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ë³€í™” í‘œí˜„
                if (Math.random() < 0.1) {
                    point.style.backgroundColor = randomColor;
                }
            });
        }, 3000);
    </script>
</body>
</html>